---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import Base from "../layouts/Base.astro";

const projects = await getCollection("projects");
projects.sort(
  (a, b) => b.data.dateStarted.getTime() - a.data.dateStarted.getTime()
);
---

<Base class="space-y-6">
  <h1 class="text-5xl font-bold">Frontend Mentor Projects</h1>
  {
    projects.map(
      ({ data: { name, hub, link, repository, dateStarted, img }, slug }) => (
        <article>
          <h2 class="text-xl font-medium">{name}</h2>
          <ul>
            <li>
              <a href={hub}>{hub}</a>
            </li>
            <li>
              <a href={link}>{link}</a>
            </li>
            <li>
              <a href={repository}>{repository}</a>
            </li>
            <li>{dateStarted}</li>
            {img ? (
              <a href={slug}>
                <Image
                  src={img}
                  alt=""
                  class="aspect-[16/10] object-cover object-top rounded-lg"
                />
              </a>
            ) : null}
          </ul>
        </article>
      )
    )
  }
</Base>
